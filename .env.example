# HN Watcher PWA â€” Environment Configuration
#
# Copy this file to .env.development or .env.production and fill in your values.
# These variables are injected at build time via Vite.
#
# IMPORTANT: Never commit actual keys to git. Use .env.local for sensitive values.

# ============================================================================
# FRONTEND CONFIGURATION (Vite / Client-side)
# ============================================================================

# VAPID Public Key for Web Push
# Generate with: web-push generate-vapid-keys
# Required for push notifications to work
VITE_VAPID_PUBLIC_KEY=

# Backend API Base URL
# Production: https://YOUR_FIREBASE_PROJECT.cloudfunctions.net/api
# Development: http://localhost:5001/hnwatch-default/us-central1/api
VITE_BACKEND_URL=http://localhost:5001/hnwatch-default/us-central1/api

# Hacker News API Base URL
# Most users should not change this
VITE_HN_API_BASE=https://hacker-news.firebaseio.com

# ============================================================================
# BACKEND CONFIGURATION (Firebase Cloud Functions)
# ============================================================================

# VAPID Private Key for Web Push signing
# Generate with: web-push generate-vapid-keys
# IMPORTANT: Only used on server, never expose to client
# Set via: firebase functions:config:set vapid.private="KEY"
VAPID_PRIVATE_KEY=

# VAPID Public Key for Web Push
# Must match the frontend VITE_VAPID_PUBLIC_KEY
# Set via: firebase functions:config:set vapid.public="KEY"
VAPID_PUBLIC_KEY=

# Firebase Project ID
# Found in Firebase Console or .firebaserc
FIREBASE_PROJECT_ID=

# Hacker News API Base URL (Backend)
# Can be overridden if using a proxy or cache
HN_API_BASE=https://hacker-news.firebaseio.com

# Maximum number of retries for API calls
# Default: 3
MAX_RETRIES=3

# Initial delay for exponential backoff (milliseconds)
# Default: 1000 (1 second)
INITIAL_RETRY_DELAY_MS=1000

# Maximum delay for exponential backoff (milliseconds)
# Default: 10000 (10 seconds)
MAX_RETRY_DELAY_MS=10000

# Exponential backoff multiplier
# Default: 2 (1s -> 2s -> 4s)
BACKOFF_MULTIPLIER=2

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================

# Node environment (development, production, staging)
NODE_ENV=development

# Firebase config file path
# Default: .firebaserc
FIREBASE_CONFIG_PATH=.firebaserc

# Firebase Hosting site ID
# Found in .firebaserc or Firebase Console
FIREBASE_HOSTING_SITE_ID=

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================

# Enable verbose logging
DEBUG=hnwatcher:*

# Vite dev server port
VITE_PORT=8000

# Firebase emulator ports
FIREBASE_FUNCTIONS_EMULATOR=localhost:5001
FIREBASE_FIRESTORE_EMULATOR=localhost:8080
FIREBASE_HOSTING_EMULATOR=localhost:5000

# ============================================================================
# OPTIONAL: ADVANCED CONFIGURATION
# ============================================================================

# Custom contact email for Web Push (VAPID contact)
# Default: admin@example.com
VAPID_CONTACT_EMAIL=admin@example.com

# Enable analytics event tracking
# Default: false
ENABLE_ANALYTICS=false

# Notification frequency (hours)
# Default: 1 (hourly)
NOTIFICATION_INTERVAL_HOURS=1

# Maximum stories to fetch per run
# Default: 30
MAX_STORIES_TO_CHECK=30

# Firestore subscriptions cleanup interval (hours)
# Default: 24 (daily cleanup)
CLEANUP_INTERVAL_HOURS=24
